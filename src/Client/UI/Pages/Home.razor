@page "/"
@using Concerto.Client.Services;
@using Concerto.Shared.Extensions;
@using Microsoft.AspNetCore.Components.Authorization

@inject IBreadcrumbsService BreadcrumbsService
@inject ITranslationsService t

<PageTitle>@t.T("navigation", "home")</PageTitle>

<div class="pa-4" style="height: 100%; display:flex;flex-direction:column;">
	<MudText Typo="Typo.h3" GutterBottom="true">@t.T("home", "title")</MudText>
	<AuthorizeView Policy="@AuthorizationPolicies.IsNotVerified.Name">
		<MudAlert Severity="Severity.Warning">@t.T("home", "adminVerificationRequired")</MudAlert>
	</AuthorizeView>
	<MudImage Src="home.svg" Style="@ImageStyle" Elevation="0" />
</div>


@code {
	[CascadingParameter]
	public LayoutState LayoutState { get; set; } = LayoutState.Default;

	string ImageFilter => LayoutState.DarkMode ? "invert(100%)" : "none";
	string ImageStyle => $"display:block; margin-left:auto; margin-right:auto; width:50%; filter:{ImageFilter}";

	protected override void OnInitialized()
	{
		BreadcrumbsService.Set(
            Icons.Material.Filled.List,
            t.T("navigation", "home"),
            new BreadcrumbItem(t.T("navigation", "home"), null, true)
			);
	}
}