@attribute [Authorize]

@page "/workspaces"
@using Concerto.Client.Services
@using Microsoft.AspNetCore.Authorization
@using Concerto.Client.UI.Components.Lists

@inject NavigationManager NavigationManager
@inject IDialogService DialogService
@inject IJSRuntime JsRuntime
@inject ISnackbar Snackbar

@inject IBreadcrumbsService BreadcrumbsService
@inject IWorkspaceService WorkspaceService


<PageTitle>Workspaces</PageTitle>

<WorkspaceList Style="height: 100%;" OnWorkspaceSelected="SelectWorkspace"/>

@code {

	protected override void OnInitialized()
	{
		BreadcrumbsService.Set(
			Icons.Material.Filled.List,
			"Workspaces",
			new BreadcrumbItem("Workspaces", null, true)
			);
	}

	private void SelectWorkspace(long workspaceId)
	{
		NavigationManager.NavigateTo($"workspaces/{workspaceId}");
	}

}