@attribute [Authorize]

@* Workspace list page hidden - using single workspace mode *@
@* @page "/workspaces" *@
@using Concerto.Client.Services
@using Microsoft.AspNetCore.Authorization
@using Concerto.Client.UI.Components.Lists

@inject NavigationManager NavigationManager
@inject IDialogService DialogService
@inject IJSRuntime JsRuntime
@inject ISnackbar Snackbar

@inject IBreadcrumbsService BreadcrumbsService
@inject IWorkspaceService WorkspaceService


@inject ITranslationsService t

<PageTitle>@t.T("navigation", "workspaces")</PageTitle>

<WorkspaceList Style="height: 100%;" OnWorkspaceSelected="SelectWorkspace"/>

@code {

	protected override void OnInitialized()
	{
		BreadcrumbsService.Set(
            Icons.Material.Filled.List,
            t.T("navigation", "workspaces"),
            new BreadcrumbItem(t.T("navigation", "workspaces"), null, true)
			);
	}

	private void SelectWorkspace(long workspaceId)
	{
		NavigationManager.NavigateTo($"workspaces/{workspaceId}");
	}

}