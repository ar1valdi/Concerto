@page "/admin"

@attribute [Authorize(Policy = AuthorizationPolicies.IsAdmin.Name)]

@inject IAppSettingsService AppSettingsService
@inject ITranslationsService t

<PageTitle>@t.T("admin", "title")</PageTitle>

	<MudTabs @ref="_tabs" Outlined="true" Position="Position.Top" HeaderPosition="TabHeaderPosition.After" 
	         ApplyEffectsToContainer="true" Class="" PanelClass="panel-height-maximum" Style="height: calc(100%);">

    <ChildContent>
        <MudTabPanel Text=@t.T("admin", "unverifiedUsers")>
            <UserManager Unverified="true" Style="height: 100%;" />
        </MudTabPanel>

        <MudTabPanel Text=@t.T("admin", "allUsers")>
            <UserManager Style="height: 100%;" />
        </MudTabPanel>
		
        <MudTabPanel Text=@t.T("admin", "translations")>
            <TranslationsManager />
        </MudTabPanel>
		
        <MudTabPanel Text=@t.T("admin", "languages")>
            <LanguagesManager />
        </MudTabPanel>
    </ChildContent>

	<Header>
		<MudLink Style="" Class="mud-tab"
				 Color="Color.Default" Underline="Underline.None" Target="_blank" Href="@AppSettingsService.AppSettings.AdminConsoleUrl">

			<MudIcon Class="text-icon mr-2" Size="Size.Small" Icon="@Icons.Material.Filled.OpenInNew" />
            @t.T("admin", "more")
		</MudLink>
	</Header>

		
	</MudTabs>

@code {
	MudTabs? _tabs;
}