@using Microsoft.AspNetCore.Components.Authorization

@inject ILanguageService t

<MudNavMenu>
	<MudText Class="px-4" Typo="Typo.h6">@t.T("NavMenuMenuTxt")</MudText>
	<MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">@t.T("NavMenuHomeTxt")</MudNavLink>
	<AuthorizeView Policy="@AuthorizationPolicies.IsAdmin.Name">
		<MudNavLink Href="admin" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.AdminPanelSettings">@t.T("NavMenuAdminPanelTxt")</MudNavLink>
	</AuthorizeView>
	<AuthorizeView >
		@if(!LayoutState.IsMobile)
		{
			<MudNavLink Href="recorder" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Camera">@t.T("NavMenuVideoRecorderTxt")</MudNavLink>
		}
		<MudNavLink Href="workspaces/-1" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Storage">@t.T("NavMenuStorageTxt")</MudNavLink>
		<StorageNavTree/>
	</AuthorizeView>
</MudNavMenu>

@code
{
	[CascadingParameter] LayoutState LayoutState { get; set; } = LayoutState.Default;
}